<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>
		Listado de Estudiantes
	</title>
	<meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css"
		href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:400,700%7CMaterial+Icons" />
	<!-- Iconos Font Awesome -->
	<script src="https://kit.fontawesome.com/c49c6935a4.js" crossorigin="anonymous"></script>
	<!-- Bootstrap -->
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<!-- CSS Files -->
	<link href="/stylesheets/material-dashboard.css?v=2.1.2" rel="stylesheet" />

	<!-- Style table -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css"
		rel="stylesheet" />
	<link href="/stylesheets/fresh-bootstrap-table.css" rel="stylesheet" />

	<!-- Fonts and icons table -->
	<link href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" rel="stylesheet">
	<link href="http://fonts.googleapis.com/css?family=Roboto:400,700,300" rel="stylesheet" type="text/css">

</head>

<body class="">
	<%- include('fragment/sidebar'); -%>
	<div class="main-panel">
		<%- include('fragment/navbar'); -%>
		<div class="content">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<div class="card-header card-header-primary">
								<h4 class="card-title ">Estudiantes de <%- data[0]['nombreMateria']%></h4>
								<p class="card-category">Listado de Estudiantes cargados en el sistema</p>
							</div>
							<div class="card-body">
								<div class="table-responsive">

									<div class="fresh-table full-color-orange">
										<!--
												Available colors for the full background: full-color-blue, full-color-azure, full-color-green, full-color-red, full-color-orange
												Available colors only for the toolbar: toolbar-color-blue, toolbar-color-azure, toolbar-color-green, toolbar-color-red, toolbar-color-orange
												-->

										<div class="toolbar">
											<button id="alertBtn" class="btn btn-default">Alert</button>
										</div>

										<table id="fresh-table" class="table">
											<thead>
												<th data-field="id">ID</th>
												<th data-field="name">Nombre</th>
												<th data-field="surname">apellido</th>
												<th data-field="course">Curso</th>
												<th data-field="email">Email</th>
												<th data-field="genre">genero</th>
												<th data-field="birtdate">fecha de nacimiento</th>
												<th data-field="legajo">legajo</th>
												<th data-field="telephone">telefono</th>
												<th data-field="actions" data-formatter="operateFormatter"
													data-events="operateEvents">Actions</th>
											</thead>
											<tbody>
												<% data.forEach(function(Student){ %>
												<tr>
													<td><%- Student['nombre']%></td>
													<td><%- Student['apellido']%></td>
													<td><%-Student['descripcion_curso']%></td>
													<td><%-Student['email']%></td>
													<td><%-Student['genero']%></td>
													<td><%-Student['fecha_nacimiento']%></td>
													<td><%-Student['legajo']%></td>
													<td><%-Student['telefono']%></td>
												</tr>
												<% }); %>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<%- include('fragment/footer'); -%>
	</div>
	<%- include('fragment/scripts'); -%>

	<!-- Javascript -->
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script src="https://unpkg.com/bootstrap-table/dist/bootstrap-table.min.js"></script>
	<script type="text/javascript">
		var $table = $('#fresh-table')
		var $alertBtn = $('#alertBtn')

		window.operateEvents = {
			'click .like': function (e, value, row, index) {
				alert('You click like icon, row: ' + JSON.stringify(row))
				console.log(value, row, index)
			},
			'click .edit': function (e, value, row, index) {
				alert('You click edit icon, row: ' + JSON.stringify(row))
				console.log(value, row, index)
			},
			'click .remove': function (e, value, row, index) {
				$table.bootstrapTable('remove', {
					field: 'id',
					values: [row.id]
				})
			}
		}

		function operateFormatter(value, row, index) {
			return [
				'<a rel="tooltip" title="Like" class="table-action like" href="javascript:void(0)" title="Like">',
				'<i class="fa fa-heart"></i>',
				'</a>',
				'<a rel="tooltip" title="Edit" class="table-action edit" href="javascript:void(0)" title="Edit">',
				'<i class="fa fa-edit"></i>',
				'</a>',
				'<a rel="tooltip" title="Remove" class="table-action remove" href="javascript:void(0)" title="Remove">',
				'<i class="fa fa-remove"></i>',
				'</a>'
			].join('')
		}

		$(function () {
			$table.bootstrapTable({
				classes: 'table table-hover table-striped',
				toolbar: '.toolbar',

				search: true,
				showRefresh: true,
				showToggle: true,
				showColumns: true,
				pagination: true,
				striped: true,
				sortable: true,
				pageSize: 8,
				pageList: [8, 10, 25, 50, 100],

				formatShowingRows: function (pageFrom, pageTo, totalRows) {
					return ''
				},
				formatRecordsPerPage: function (pageNumber) {
					return pageNumber + ' rows visible'
				}
			})

			$alertBtn.click(function () {
				alert('You pressed on Alert')
			})
		})
	</script>

</body>
</html>