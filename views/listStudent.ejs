<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
	<title>Panel principal del sistema</title>
	<meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport" />
	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css"
		href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />

	<!-- Bootstrap -->
	<link rel="stylesheet" href="/css/bootstrap.min.css" />
	<!-- Iconos Font Awesome -->
	<script src="https://kit.fontawesome.com/c49c6935a4.js" crossorigin="anonymous"></script>
	<!-- Nuestros estilos -->
	<link rel="stylesheet" href="/stylesheets/style.css" />

	<!-- Estilos de las tarjetas de los espacios curriculares -->
	<link rel="stylesheet" href="/stylesheets/cardsStyle.css" />

	<link rel="stylesheet" href="/stylesheets/datatable.css" />

	<link rel="stylesheet" href="/stylesheets/fresh-bootstrap-table.css" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
		integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	<link href="http://fonts.googleapis.com/css?family=Roboto:400,700,300" rel="stylesheet" type="text/css">

	<!-- CSS Files -->
	<link href="/stylesheets/material-dashboard.css?v=2.1.2" rel="stylesheet" />
	<link href="/stylesheets/toastr.css" rel="stylesheet" />
	<!-- Animate css -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" />
	<%- include('fragment/background'); -%>
</head>

<body>
	<%- include('fragment/sidebar'); -%>
	<div class="main-panel">
		<%- include('fragment/navbar'); -%>
		<div class="custom-shape-divider-top-1600208582">
			<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120"
				preserveAspectRatio="none">
				<path
					d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z"
					opacity=".25" class="shape-fill"></path>
				<path
					d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z"
					opacity=".5" class="shape-fill"></path>
				<path
					d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z"
					class="shape-fill"></path>
			</svg>
		</div>
		<!--  contenido   -->
		<div id="1" style="visibility: hidden"><%-username%></div>
		<h1 id="2" style="visibility: hidden"><%-toastrFlag%></h1>
		<div class="content">
			<div class="container-fluid">
				<!--Contenido principal acÃ¡ -->
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-12">
								<div class="container fresh-table full-color-blue">
									<table id="fresh-table" class="table">
										<thead>
											<th data-field="id">ID</th>
											<th data-field="name" data-sortable="true">Nombre</th>
											<th data-field="surname" data-sortable="true">Apellido</th>
											<th data-field="birt">Fecha de nacimiento</th>
											<th data-field="legajo">legajo</th>
											<th data-field="email">email</th>
											<th data-field="telephone">telefono</th>
											<th data-field="actions" data-formatter="operateFormatter"
												data-events="operateEvents">
												Actions</th>
										</thead>
										<tbody>
											<% data.forEach(function(Student){ %>
												<tr>
													<td>0</td>
													<td><%-Student['nombre']%></td>
													<td><%-Student['apellido']%></td>
													<td><%-Student['fecha_nacimiento']%></td>
													<td><%-Student['legajo']%></td> 								
													<td><%-Student['email']%></td>
													<td><%-Student['telefono']%></td>
													<td></td>
												</tr>
												<% }); %>
										</tbody>
									</table>
								</div>
						</div>
						<%- include('fragment/footer'); -%>
					</div>
					<%- include('fragment/scripts'); -%>
					<script src="/javascripts/plugins/jquery-3.5.1.js"></script>
					<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
					<script src="https://unpkg.com/bootstrap-table/dist/bootstrap-table.min.js"></script>
					<script type="text/javascript">
						var $table = $('#fresh-table')
						var $alertBtn = $('#alertBtn')

						window.operateEvents = {
							'click .like': function (e, value, row, index) {
								alert('You click like icon, row: ' + JSON.stringify(row))
								console.log(value, row, index)
							},
							'click .edit': function (e, value, row, index) {
								alert('You click edit icon, row: ' + JSON.stringify(row))
								console.log(value, row, index)
							},
							'click .remove': function (e, value, row, index) {
								$table.bootstrapTable('remove', {
									field: 'id',
									values: [row.id]
								})
							}
						}

						function operateFormatter(value, row, index) {
							return [
								'<a rel="tooltip" title="Like" class="table-action like" href="javascript:void(0)" title="Like">',
								'<i class="fa fa-heart"></i>',
								'</a>',
								'<a rel="tooltip" title="Edit" class="table-action edit" href="javascript:void(0)" title="Edit">',
								'<i class="fa fa-edit"></i>',
								'</a>',
								'<a rel="tooltip" title="Remove" class="table-action remove" href="javascript:void(0)" title="Remove">',
								'<i class="fa fa-remove"></i>',
								'</a>'
							].join('')
						}

						$(function () {
							$table.bootstrapTable({
								classes: 'table table-hover table-striped',
								toolbar: '.toolbar',

								search: true,
								showRefresh: true,
								showToggle: true,
								showColumns: true,
								pagination: true,
								striped: true,
								sortable: true,
								pageSize: 8,
								pageList: [8, 10, 25, 50, 100],

								formatShowingRows: function (pageFrom, pageTo, totalRows) {
									return ''
								},
								formatRecordsPerPage: function (pageNumber) {
									return pageNumber + ' rows visible'
								}
							})

							$alertBtn.click(function () {
								alert('You pressed on Alert')
							})
						})
					</script>
</body>

</html>